(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[49],{72950:function(){},22868:function(){},14777:function(){},99830:function(){},70209:function(){},89055:function(e,t,r){Promise.resolve().then(r.bind(r,20679))},20679:function(e,t,r){"use strict";r.r(t),r.d(t,{default:function(){return j}});var l=r(3827),a=r(64090),n=r(24905),s=r(26142),i=r(73493);let o=(0,s.ZF)({apiKey:"AIzaSyAtQtJt2Eh4B3luWiWb5sLxP05kE_4Vdzg",authDomain:"naijaprime.firebaseapp.com",projectId:"naijaprime",storageBucket:"naijaprime.appspot.com",messagingSenderId:"837992473335",appId:"1:837992473335:web:3669c39351f5244e8ae9f2",measurementId:"G-NCMV3ZNFXS"});(0,i.IH)(o),r(89710);var c=r(52840),d=e=>{var t,r,a;let{handleFileDrop:n,handleFileSelect:s,fileProgress:i,thrilerProgress:o,file:d,handleThrilerDrop:u,handleThrilerSelect:p,handleImageDrop:m,handleImageSelect:x,posterProgress:h,thriler:f,poster:v,nextPage:g}=e;return(0,l.jsxs)("div",{className:"bg-[#010101] h-screen text-neutral-300 px-5",children:[(0,l.jsx)("div",{className:"flex justify-center p-5",children:(0,l.jsx)("p",{className:"font-semibold text-2xl uppercase",children:"Prime Upload"})}),(0,l.jsxs)("div",{onDragOver:e=>e.preventDefault(),onDrop:n,className:" border  border-dashed p-5 rounded-md  flex flex-col gap-5 items-center justify-center",children:[(0,l.jsxs)("div",{className:" flex items-center gap-3 text-xs",children:[(0,l.jsx)(c.v8B,{}),d&&(null===(t=d[0])||void 0===t?void 0:t.name)||(0,l.jsx)("p",{children:"Drag and drop your files here"})]}),(0,l.jsxs)("div",{className:"",children:[(0,l.jsx)("label",{htmlFor:"browse",className:" bg-neutral-300 px-5 py-2 text-black text-sm",children:" Select Video"}),(0,l.jsx)("input",{type:"file",onChange:s,className:" hidden",id:"browse"})]})]}),i&&(0,l.jsx)("div",{className:"h-1 mt-1 rounded-full overflow-hidden",children:(0,l.jsx)("div",{className:" ".concat(i<100?"bg-red-600":"bg-green-600"," h-full transition-all ease-in-out duration-500"),style:{width:"".concat(i,"%")}})}),(0,l.jsxs)("div",{onDragOver:e=>e.preventDefault(),onDrop:u,className:" border p-4 rounded-md mt-5 flex flex-col gap-5 items-center justify-center",children:[(0,l.jsxs)("div",{className:" flex items-center gap-3 text-xs",children:[(0,l.jsx)(c.v8B,{}),f&&(null===(r=f[0])||void 0===r?void 0:r.name)||(0,l.jsx)("p",{children:"Drag and drop your thriler here"})]}),(0,l.jsxs)("div",{className:"",children:[(0,l.jsx)("label",{htmlFor:"browseThriler",className:" bg-neutral-300 px-5 py-2 text-black text-sm",children:" Select Thriler"}),(0,l.jsx)("input",{type:"file",onChange:p,className:" hidden",id:"browseThriler"})]})]}),o&&(0,l.jsx)("div",{className:"h-1 mt-1 rounded-full overflow-hidden",children:(0,l.jsx)("div",{className:" ".concat(o<100?"bg-red-600":"bg-green-600"," h-full transition-all ease-in-out duration-500"),style:{width:"".concat(o,"%")}})}),(0,l.jsxs)("div",{onDragOver:e=>e.preventDefault(),onDrop:m,className:" border p-4 rounded-md mt-5 flex flex-col gap-5 items-center justify-center",children:[(0,l.jsxs)("div",{className:" flex items-center gap-3 text-xs",children:[(0,l.jsx)(c.v8B,{}),v&&(null===(a=v[0])||void 0===a?void 0:a.name)||(0,l.jsx)("p",{children:"Drag and drop your cover image here"})]}),(0,l.jsxs)("div",{className:"",children:[(0,l.jsx)("label",{htmlFor:"browseImage",className:" bg-neutral-300 px-5 py-2 text-black text-sm",children:" Select Cover Image"}),(0,l.jsx)("input",{type:"file",onChange:x,className:" hidden",id:"browseImage"})]})]}),h&&(0,l.jsx)("div",{className:"h-1 mt-1 rounded-full overflow-hidden",children:(0,l.jsx)("div",{className:" ".concat(h<100?"bg-red-600":"bg-green-600"," h-full transition-all ease-in-out duration-500"),style:{width:"".concat(h,"%")}})}),(0,l.jsx)("div",{className:" mt-10",children:(0,l.jsx)("p",{onClick:g,className:" bg-neutral-300 rounded-md text-neutral-700 p-4 font-bold uppercase flex items-center justify-center",children:"Next"})})]})},u=e=>{let{formData:t,nextPage:r,setFormData:a,prevPage:n}=e;return(0,l.jsxs)("div",{className:"bg-[#010101] h-screen text-neutral-300 p-5",children:[(0,l.jsx)("div",{className:"flex justify-center p-5",children:(0,l.jsx)("p",{className:"font-semibold text-2xl uppercase",children:"Prime Upload"})}),(0,l.jsx)("div",{className:" flex items-center justify-between",children:(0,l.jsx)("p",{onClick:n,className:"bg-neutral-300 rounded-md text-neutral-700 p-4 font-bold uppercase flex items-center justify-center",children:"Back"})}),(0,l.jsxs)("div",{className:" mt-5 mb-10 flex flex-col gap-3 upload-form",children:[(0,l.jsx)("input",{type:"text",name:"",id:"",value:t.title,onChange:e=>a({...t,title:e.target.value}),placeholder:"Title"}),(0,l.jsx)("input",{type:"text",name:"",id:"",value:t.producer,onChange:e=>a({...t,producer:e.target.value}),placeholder:"Producer"}),(0,l.jsx)("input",{type:"text",name:"",id:"",value:t.scriptWriter,onChange:e=>a({...t,scriptWriter:e.target.value}),placeholder:"Script wriiter"}),(0,l.jsx)("input",{type:"text",name:"",id:"",value:t.aboutMovie,onChange:e=>a({...t,aboutMovie:e.target.value}),placeholder:"About movie"})]}),(0,l.jsx)("div",{children:(0,l.jsx)("p",{onClick:r,className:" bg-neutral-300 rounded-md text-neutral-700 p-4 font-bold uppercase flex items-center justify-center",children:"Next"})})]})},p=e=>{let{formData:t,nextPage:r,setFormData:a,prevPage:n}=e;return(0,l.jsxs)("div",{className:"bg-[#010101] h-screen text-neutral-300 p-5",children:[(0,l.jsx)("div",{className:"flex justify-center p-5",children:(0,l.jsx)("p",{className:"font-semibold text-2xl uppercase",children:"Prime Upload"})}),(0,l.jsx)("div",{className:" flex items-center justify-between",children:(0,l.jsx)("p",{onClick:n,className:"bg-neutral-300 rounded-md text-neutral-700 p-4 font-bold uppercase flex items-center justify-center",children:"Back"})}),(0,l.jsxs)("div",{className:" mt-5 mb-10 flex flex-col gap-3 upload-form",children:[(0,l.jsx)("input",{type:"text",name:"",id:"",value:t.year,onChange:e=>a({...t,year:e.target.value}),placeholder:"year"}),(0,l.jsx)("input",{type:"number",name:"",id:"",value:t.ageLimit,onChange:e=>a({...t,ageLimit:e.target.value}),placeholder:"Age limit"}),(0,l.jsx)("input",{type:"text",name:"",id:"",value:t.genre,onChange:e=>a({...t,genre:e.target.value}),placeholder:"Genre"})]}),(0,l.jsx)("div",{children:(0,l.jsx)("p",{onClick:r,className:" bg-neutral-300 rounded-md text-neutral-700 p-4 font-bold uppercase flex items-center justify-center",children:"Next"})})]})},m=e=>{let{formData:t,setFormData:r,nextPage:a,prevPage:n}=e;return(0,l.jsxs)("div",{className:"bg-[#010101] h-screen text-neutral-300 p-5",children:[(0,l.jsx)("div",{className:"flex justify-center p-5",children:(0,l.jsx)("p",{className:"font-semibold text-2xl uppercase",children:"Prime Upload"})}),(0,l.jsx)("div",{className:" flex items-center justify-between",children:(0,l.jsx)("p",{onClick:n,className:"bg-neutral-300 rounded-md text-neutral-700 p-4 font-bold uppercase flex items-center justify-center",children:"Back"})}),(0,l.jsxs)("div",{className:" mt-5 mb-10 flex flex-col gap-3 upload-form",children:[(0,l.jsxs)("select",{name:"",id:"",value:t.ratioSplit,onChange:e=>r({...t,ratioSplit:e.target.value}),children:[(0,l.jsx)("option",{value:"",children:"Choose ratio split"}),(0,l.jsx)("option",{value:"20",children:"20/80"}),(0,l.jsx)("option",{value:"40",children:"40/60"}),(0,l.jsx)("option",{value:"50",children:"50/50"})]}),(0,l.jsxs)("select",{name:"",id:"",value:t.lockAmount,onChange:e=>r({...t,lockAmount:e.target.value}),children:[(0,l.jsx)("option",{value:"",children:"Choose lock amount"}),(0,l.jsx)("option",{value:"20",children:"50"}),(0,l.jsx)("option",{value:"40",children:"100"}),(0,l.jsx)("option",{value:"50",children:"200"})]})]}),(0,l.jsx)("div",{children:(0,l.jsx)("p",{onClick:a,className:" bg-neutral-300 rounded-md text-neutral-700 p-4 font-bold uppercase flex items-center justify-center",children:"Next"})})]})},x=r(71399),h=e=>{let{nextPage:t,prevPage:r,handleFormSubmit:n}=e,[s,i]=(0,a.useState)(!1);return(0,l.jsxs)("div",{className:"bg-[#010101] h-screen text-neutral-300 p-5",children:[(0,l.jsx)("div",{className:"flex justify-center p-5",children:(0,l.jsx)("p",{className:"font-semibold text-2xl uppercase",children:"Prime Upload"})}),(0,l.jsx)("div",{className:" flex items-center justify-between",children:(0,l.jsx)("p",{onClick:r,className:"bg-neutral-300 rounded-md text-neutral-700 p-4 font-bold uppercase flex items-center justify-center",children:"Back"})}),(0,l.jsx)("div",{className:" mt-5 mb-10 flex flex-col gap-3 upload-form",children:(0,l.jsxs)("div",{className:" flex items-center gap-4",children:[(0,l.jsx)("div",{className:" ",children:(0,l.jsx)("div",{onClick:()=>i(!s),className:"border rounded-md w-7 h-7 flex items-center justify-center",children:s&&(0,l.jsx)(x.l_A,{})})}),(0,l.jsx)("p",{className:" text-sm text-neutral-400",children:"By clicking upload, you confirm your movie is of high quality resolution, Pirate and Copyright Free, and also confirm you are the real owner of this content? Any illegal copyright infringement is likely to come with a penalty."})]})}),(0,l.jsx)("div",{children:s&&(0,l.jsx)("p",{onClick:n,className:" bg-neutral-300 rounded-md text-neutral-700 p-4 font-bold uppercase flex items-center justify-center",children:"Upload"})})]})},f=r(985);r(10509);var v=r(30828),g=r(47907),j=()=>{let[e,t]=(0,a.useState)(1),[r,s]=(0,a.useState)(null),[i,c]=(0,a.useState)(null),[x,j]=(0,a.useState)(null),[b,N]=(0,a.useState)(null),[y,S]=(0,a.useState)(null),[k,D]=(0,a.useState)(null),[w,C]=(0,a.useState)(!1),[P,F]=(0,a.useState)({title:"",producer:"",scriptWriter:"",aboutMovie:"",coverImage:"",videoUrl:"",thrilerUrl:"",year:"",ageLimit:"",genre:"",ratioSplit:"",lockAmount:""}),[I,B]=(0,a.useState)(0),U=(0,v.v9)(e=>e.user.info);(0,g.useRouter)();let A=()=>{t(e+1)},T=()=>{t(e-1)};(0,a.useEffect)(()=>{r&&_()},[r]),(0,a.useEffect)(()=>{x&&L()},[x]),(0,a.useEffect)(()=>{y&&E()},[y]),console.log(P);let W=async()=>{if(!P.title||!P.producer||!P.scriptWriter||!P.aboutMovie||!P.coverImage||!P.year||!P.ageLimit||!P.genre||!P.ratioSplit||!P.lockAmount){alert("Please fill in all fields");return}let e=new FormData;e.append("title",P.title),e.append("producer",P.producer),e.append("scriptWriter",P.scriptWriter),e.append("aboutMovie",P.aboutMovie),e.append("coverImage",P.coverImage),e.append("year",P.year),e.append("ageLimit",P.ageLimit),e.append("genre",P.genre),e.append("ratioSplit",P.ratioSplit),e.append("lockAmount",P.lockAmount),console.log(await f.WG.post("movies",{title:P.title,producer:P.producer,scriptWriter:P.scriptWriter,desc:P.aboutMovie,img:P.coverImage,trailer:P.thrilerUrl,video:P.videoUrl,year:P.year,limit:P.ageLimit,genre:P.genre,price:P.lockAmount,ratioSplit:P.ratioSplit,userId:null==U?void 0:U._id}))},_=()=>{if(!r){console.error("No file selected for upload");return}let e=new Date().getTime()+r.name,t=(0,n.cF)(o),l=(0,n.iH)(t,e),a=(0,n.B0)(l,r);a.on("state_changed",e=>{c(e.bytesTransferred/e.totalBytes*100),e.state},e=>{},()=>{(0,n.Jt)(a.snapshot.ref).then(e=>{F({...P,videoUrl:e})})})},L=()=>{let e=new Date().getTime()+(null==x?void 0:x.name),t=(0,n.cF)(o),r=(0,n.iH)(t,e),l=(0,n.B0)(r,x);l.on("state_changed",e=>{N(e.bytesTransferred/e.totalBytes*100),e.state},e=>{},()=>{(0,n.Jt)(l.snapshot.ref).then(e=>{F({...P,thrilerUrl:e})})})},E=()=>{let e=new Date().getTime()+(null==y?void 0:y.name),t=(0,n.cF)(o),r=(0,n.iH)(t,e),l=(0,n.B0)(r,y);l.on("state_changed",e=>{D(e.bytesTransferred/e.totalBytes*100),e.state},e=>{},()=>{(0,n.Jt)(l.snapshot.ref).then(e=>{F({...P,coverImage:e})})})};return(0,l.jsxs)("div",{className:"bg-[#010101] h-screen text-neutral-300 px-5",children:[1===e&&(0,l.jsx)(d,{formData:P,handleFileDrop:e=>{var t;e.preventDefault(),s(null===(t=e.target.files)||void 0===t?void 0:t[0])},handleFileSelect:e=>{var t;s(null===(t=e.target.files)||void 0===t?void 0:t[0])},handleImageDrop:e=>{var t;e.preventDefault(),S(null===(t=e.target.files)||void 0===t?void 0:t[0])},handleImageSelect:e=>{var t;S(null===(t=e.target.files)||void 0===t?void 0:t[0])},handleThrilerDrop:e=>{var t;e.preventDefault(),j(null===(t=e.target.files)||void 0===t?void 0:t[0])},handleThrilerSelect:e=>{var t;j(null===(t=e.target.files)||void 0===t?void 0:t[0])},posterProgress:k,file:r,thriler:x,fileProgress:i,thrilerProgress:b,setFormData:F,nextPage:A,poster:y}),2===e&&(0,l.jsx)(u,{formData:P,setFormData:F,nextPage:A,prevPage:T}),3===e&&(0,l.jsx)(p,{formData:P,setFormData:F,handleFormSubmit:W,prevPage:T,nextPage:A}),4===e&&(0,l.jsx)(m,{formData:P,setFormData:F,handleFormSubmit:W,prevPage:T,nextPage:A}),5===e&&(0,l.jsx)(h,{formData:P,setFormData:F,handleFormSubmit:W,prevPage:T})]})}},985:function(e,t,r){"use strict";r.d(t,{JW:function(){return i},WG:function(){return d},g8:function(){return c}});var l,a,n,s=r(7908);let i="http://localhost:5000/api/",o=JSON.parse(null===(a=window)||void 0===a?void 0:null===(l=a.localStorage)||void 0===l?void 0:l.getItem("persist:root"))?null===(n=JSON.parse(JSON.parse(localStorage.getItem("persist:root")).user).info)||void 0===n?void 0:n.accessToken:"",c=s.Z.create({baseURL:i}),d=s.Z.create({baseURL:i,headers:{token:"Bearer ".concat(o)}})},89710:function(){}},function(e){e.O(0,[699,706,18,828,498,971,69,744],function(){return e(e.s=89055)}),_N_E=e.O()}]);